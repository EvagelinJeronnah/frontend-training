<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
</head>
<body>
    <input type="text" id="text"/>
    <button onclick="add()">add</button>
    <ul id="to_do">

    </ul>
    <script>
    if(!localStorage.getItem("todos")){
        localStorage.setItem("todos",JSON.stringify([]));
    }
    let list=JSON.parse(localStorage.getItem("todos"));
    function add(){
        let item=document.getElementById("text").value;
        list.push(item);
        localStorage.setItem("todos",JSON.stringify(list))
        display();
    }
    display();
    function removeItem(position){
        let list_new=JSON.parse(localStorage.getItem("todos"));
        list_new.splice(position,1);
        localStorage.setItem("todos",JSON.stringify(list_new));
        display();
    }
    function display(){
        let element="";
        let local_list=JSON.parse(localStorage.getItem("todos"));
        for(let i=0; i<local_list.length;i++){
            element=element+"<li>"+local_list[i]+" "+"<button onclick='removeItem("+i+")'>delete</button>"+"</li>"
        }
        document.getElementById("to_do").innerHTML=element
    }
    </script>

</body>
</html>